<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Drupal Module | Harbourmaster Single Sign On (SSO)</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./license.html" />
    
    
    <link rel="prev" href="./control-center.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="6"
        data-chapter-title="Drupal Module"
        data-filepath="drupalmodule.md"
        data-basepath="."
        data-revision="Wed Sep 14 2016 09:33:51 GMT+0200 (CEST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        README
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="quick-start-guide.html">
            
                
                    <a href="./quick-start-guide.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Quick Start Guide
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="multidomainsetup.html">
            
                
                    <a href="./multidomainsetup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Multi Domain Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="harbourmaster.html">
            
                
                    <a href="./harbourmaster.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Harbourmaster
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Usermanager.html">
            
                
                    <a href="./Usermanager.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Usermanager
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="control-center.html">
            
                
                    <a href="./control-center.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Control Center
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="6" data-path="drupalmodule.html">
            
                
                    <a href="./drupalmodule.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Drupal Module
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="license.html">
            
                
                    <a href="./license.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        LICENSE
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Harbourmaster Single Sign On (SSO)</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="drupal8--thunder">Drupal8 / Thunder</h1>
<h2 id="install-harbourmaster-sso-plugin">Install Harbourmaster SSO plugin</h2>
<p>Github Link <a href="https://github.com/valiton/harbourmaster-sso-drupal8-plugin" target="_blank">https://github.com/valiton/harbourmaster-sso-drupal8-plugin</a></p>
<p>zip to install: <a href="https://github.com/valiton/harbourmaster-sso-drupal8-plugin/archive/8.x-1.x.zip" target="_blank">https://github.com/valiton/harbourmaster-sso-drupal8-plugin/archive/8.x-1.x.zip</a></p>
<p>The Module is also on Packagist <a href="https://packagist.org/packages/valiton/harbourmaster" target="_blank">https://packagist.org/packages/valiton/harbourmaster</a></p>
<p>Install the module
<img src="assets/drupal_install_1.png" alt="Install Module"></p>
<p>Successfully installed
<img src="assets/drupal_install_2.png" alt="Install Module Success"></p>
<p>Activate the module
<img src="assets/drupal_install_3.png" alt="Activate Module"></p>
<p>Successfully activated
<img src="assets/drupal_install_4.png" alt="Active Module Success"></p>
<h2 id="configuration">Configuration</h2>
<ul>
<li>Configure the module
<img src="assets/drupal_install_5.png" alt=""></li>
</ul>
<p>The Drupal Module needs to be configured to communicate to Harbourmaster the API and includes the widget js from the usermanager. Once the Drupal module has been correctly configured, users will be able to register and log in using <code>&lt;YOUR_DRUPAL_URL&gt;/harbourmaster/login</code>, e.g. <code>www.thunder.dev/harbourmaster/login</code>.</p>
<p><strong>HMS API CONFIGURATION</strong></p>
<ul>
<li><p>URL to Harbourmaster endpoint 
<em>Includes protocol and domain (optionally port and/or path prefix). This Url is used for server to server communication, it is not used by the browser.</em>
e.g. &quot;<a href="http://harbourmaster.thunder.dev:8080" target="_blank">http://harbourmaster.thunder.dev:8080&quot;</a>
Required for the multi domain setup. Note if you user Docker Native for Mac use the IP address of your computer e.g. 192.x.x.x</p>
</li>
<li><p>Harbourmaster tenant to use
<em>May only contain a-z A-Z 0-9 .</em>
e.g. &quot;thunder&quot;</p>
</li>
<li><p>HMS lookup cache TTL
<em>Duration during which the HMS session lookup is cached.</em>
e.g. &quot;60&quot;</p>
</li>
</ul>
<p><strong>USERMANAGER CONFIGURATION</strong></p>
<ul>
<li>URL to usermanager
<em>Includes protocol and domain (optionally port and/or path prefix). This Url will be used to load the Usermanger Widget, it is only used by the web browser, not for server to server communication.</em>
e.g. &quot;<a href="http://usermanager.thunder.dev" target="_blank">http://usermanager.thunder.dev&quot;</a></li>
</ul>
<p><strong>HMS TOKEN CONFIGURATION</strong></p>
<ul>
<li>SSO cookie name
<em>Name of the cookie that contains the HMS token (usually &quot;token&quot;). May only contain a-z A-Z 0-9 .-\</em>..SSO _
e.g. &quot;token&quot;</li>
<li><p>Cookie domain</p>
<p><em>Name of the domain which the SSO cookie is set on.</em>
 e.g. &quot;.thunder.dev&quot;</p>
</li>
</ul>
<ul>
<li><p>SSO cookie lifetime
<em>Duration in seconds in which the cookie stays valid. When set to 0, the cookie will expire after browser close.</em></p>
<p>e.g. 2592000 (30 days)</p>
</li>
</ul>
<p><strong>CROSS DOMAIN AUTHENTICATION CONFIGURATION</strong></p>
<ul>
<li><p>Cross domain login</p>
<p><em>Set this path to what the Usermanager uses to authenticate the user with this domain.</em>
e.g. /hms_cross_domain_login</p>
</li>
<li><p>Cross domain logout</p>
<p><em>Set this path to what the Usermanager uses to invalidate the user&apos;s session with this domain.</em>
e.g. /hms_cross_domain_logout</p>
</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./control-center.html" class="navigation navigation-prev " aria-label="Previous page: Control Center"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./license.html" class="navigation navigation-next " aria-label="Next page: LICENSE"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"ga":{"token":"GTM-5X8W5W","configuration":"auto"},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
